---
title: "Git - (4)"
categories:
    - Open Source
tags:
    - Open Source
date: 2023-09-21
toc: true
---

### Git을 통한 협업 방식

#### [협업방법 전체 요약]

*이때의 개발자는 contributor임* 

1. 개발자) local 개발 환경을 설정 - 예) fork하기
2. 개발자) 이슈 확인
3. 개발자) 작업 branch생성 →
    - push를 위해서는 계속적으로 remote repository에서 업데이트를 해줘야 동일한 환경을 맞춰줘야 함
4. 개발자) 코드 수정 및 Push
5. 개발자) Pull request 하기
6. maintainer, committer 등의 팀원) 코드 리뷰하기
7. 개발자) 코드 리뷰 반영하기
8. maintainer) Pull request merge하기
9. 개발자) 작업 branch 삭제

---

### 개발자) local 개발 환경 설정

#### [Remote Respositoroy 검색 및 fork]

- 기여하고 싶은 github repository 검색 및 fork하기

![image](https://github.com/dareunk/dareunk.github.io/assets/83913407/10a1d3ab-23b0-4944-a72c-2d6c4d66094f)

> 실습을 진행하기 위해 임의로 깃허브 계정을 하나 만들어 ‘OpenSource’ repository를 생성했다.앞으로 이 repository를 remote repository로 사용할 것이다.                                                                  **maintainer: happyeun12,   developer(contributor): dareunk**
> 

-  developer은 기여하고 싶은 repository를 검색한 후, 해당 repository를 fork하여 내 깃헙의 repository로 가져온다.

![image](https://github.com/dareunk/dareunk.github.io/assets/83913407/d7510504-78f3-4c2c-ab0f-1f3fed05cc4a)

- 해당 local repository를 나의 local PC에 생성한다. 

    - clone 시 자동으로 remote repository는 origin이란 이름을 추가됨
    - 자동으로 local의 master branch가 remote의 master branch를 추적하도록 함

```bash
$ git clone <해당 repository 주소>
// ssh키를 등록해놨으면 ssh주소로 가지고 오면 된다.
// token을 이용하는 경우는 한 번 인증과정을 통해 연결해놓으면, https주소를 통해 가지고 올 수 있음
```

![image](https://github.com/dareunk/dareunk.github.io/assets/83913407/bdbda82f-d403-4b4b-8518-7bbf3753bafd)

- **기존 Open source의 원작 repository를 추가해준다.** 
    - 만약 개발자의 remote repository에서만 fetch가 이루어지면, 실제 open source에 새롭게 update되는 것들을 자동으로 반영하기 어려움
    - 나중에 maintainer의 repository에 기여를 하기위해서는 그 repository에 구조와 반드시 일치해야함→ 만약 일치하지 않는다면 에러가 발생
    - push시 전에 maintainer의 repository로 부터 fetch를 해줘야 함

```bash
// $ git remote add <이름> <url>
$ git remote add upstream <maintainer's repository>
```
![image](https://github.com/dareunk/dareunk.github.io/assets/83913407/2e786083-be53-4661-abf8-5abdb7ac4824)

### Git remote repository 관련 명령어

#### Remote Repository 확인하기 

```bash
$ git remote
```

#### Remote Repository 이름과 url 확인

```bash
$ git remote -v
```



- Fetch와 Push 각각 설정 가능 → fetch시에는 A repository에서, push시에는 다른 B repository에서 진행하는 것이 가능

#### Remote Repository의 구체적 정보 확인 

```bash
//$ git remote show <remote repository's name>
$ git remote show origin
```


#### **새로운 Remote repository 추가**
- **기존 Open source의 원작 repository를 추가해줘야 함**

```bash
// $ git remote add <이름> <url>
$ git remote add upstream <maintainer's repository>
```


#### Remote Repository에서 fetch 진행
- local에는 없지만, remote repository에 있는 데이터를 모두 가져옴
- 만약 local과 차이가 없다면, 아무것도 가져오지 않음
- remote 이름 생략 시에는 origin이 default name이 됨
- remote repository로부터 마지막에 가져온 것 ‘이후’의 ‘수정된 것’을 모두 가져옴
- **데이터는 가져오지만, 자동으로 merge가 되지는 않음**
    - merge를 하기 전가지는 working directory의 파일 내용에는 변화가 없음

```bash
$ git fetch origin
```

#### Remote Repository 이름 변경

```bash
//$ git remote rename <old name> <new name>
$ git remote rename upstream us
```

- remote repository이름 변경 시 local에서 관리하던 remote repository의 branch 이름도 변경됨
    - ex) upstream/main → us/main

#### Remote Repository 삭제

```bash
$ git remote remove us
or
$ git remote rm us
```

- 필요한 경우
    - 서버 정보가 바뀐 경우
    - 더는 별도의 미러가 필요하지 않을 경우
    - 더는 기여자로서 활동하지 않는 경우

#### Remote Repository에서 pull하기

```bash
$ git pull origin 
```

- fetch와 merge를 동시에 수행 → 사용지양
- 가능하면, fetch와 merge를 따로 각각 수행하는 것이 좋음

#### Remote Repository에서 rebase

```bash
// $ git pull --rebase <remote 이름>
$ git pull --rebase origin
```

- fetch와 현재 작업 코드와 rebase를 진행

### 개발자 - 이슈 확인

#### [Remote repository에서 issue확인하기]

- 해결해야 할 이슈 목록을 maintainer의 remote repository에서 확인함

- Maintainer의 해결해야 할 사항을 repository issue를 통해 업로드함

- Developer은 해당 issue를 확인한 다음 본인이 issue를 해결할 것임을 알리며 임무를 수행.